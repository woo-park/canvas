<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    <title>Web Is A Canvas</title>
    <!-- <link rel="stylesheet" href="styles.css"> -->
    <style>
      canvas {background-color: lightgray;} /* change or remove this color */
            
      body {
        margin: 0;
        height: 100vh;
        display: flex;
        align-items: center;
      }

      #frame {
        width: 1960px;
        height: 400px;
        margin: auto;
        display: flex;
        flex-shrink: 0;
        justify-content: space-evenly;
      }

      canvas {
        width: 600px;
        height: 400px;
      }

      @media only screen and (max-width: 1400px) {
        canvas {
          width: 400px;
          height: 400px;
        }
        
      }
    
    </style>

  </head>

  <body>
    <div id="frame">
      <canvas id="c1" class="canvas" width="600" height="400"></canvas>
      <div style="display: none">
          <video id="video1" autoplay loop muted src="images/fan.mp4"></video>
      </div>
      <canvas id="c2" class="canvas" width="600" height="400"></canvas>
      <div style="display: none">
          <video id="video2" autoplay loop muted src="images/fan.mp4"></video>
      </div>
      <canvas id="c3" class="canvas" width="600" height="400"></canvas>
      <div style="display: none">
          <video id="video3" autoplay loop muted src="images/fan.mp4"></video>
      </div>
    </div>

   

    <script>
    // Three unique canvas drawings coded into the template provided (3 points)
    // Drawing resolution should be scaled appropriately with the devicePixelRatio property (1 point)
    // At least one custom shape drawn with path methods (1 point)
    // At least one photographic image or video with pixel manipulation (2 points)
    // Each drawing should be animated with the requestAnimationFrame() method (3 points)

      const canvas = document.querySelectorAll('.canvas');
      console.log(canvas);
      // const context = canvas.getContext('2d'); 
      const c1 = canvas[0].getContext('2d');
      const c2 = canvas[1].getContext('2d');
      const c3 = canvas[2].getContext('2d');

      let width;
      let height;
      let pxScale = window.devicePixelRatio;
      let video1 = document.getElementById('video1');
      let video2 = document.getElementById('video2');
      let video3 = document.getElementById('video3');

      function setup() {
        for(each of canvas){
          //fixing 3 canvas sizes
          width = each.width;   //600 width
          height = each.height; //400 height

          //setting css display size
          each.style.width = width + 'px';  
          each.style.height = height + 'px';

          //setting # of display pixels
          each.width = width * pxScale;
          each.height = height * pxScale;

          //scale it back - making it 2 larger
          // each.scale(pxScale, pxScale);
        }
        video1.play();
        video2.play();
        video3.play();
      }
      setup();
      

      
      //canvas1    // use c1
      function drawCanvas1() {
        let video1_width = video1.videoWidth, video1_height = video1.videoHeight;
        // console.log('video_width and height',video1_width, video1_height);

        c1.drawImage(video1, 0, 0, video1_width, video1_height);
        requestAnimationFrame(drawCanvas1);

        
      }
      
      video1.addEventListener('play', drawCanvas1);
      
      

    
      //end of canvas1





      //canvas2 && use c2
      function drawCanvas2() {
        let video2_width = video2.videoWidth, video2_height = video2.videoHeight;
        // console.log('video_width and height',video2_width, video2_height);


        c2.drawImage(video2, 0, 0, video2_width, video2_height);
        requestAnimationFrame(drawCanvas2);
      }
      video2.addEventListener('play', drawCanvas2);






      // canvas3   // use c3
      function drawCanvas3() {
        let video3_width = video3.videoWidth, video3_height = video3.videoHeight;
        // console.log('video_width and height',video3_width, video3_height);


        c3.drawImage(video3, 0, 0, video3_width, video3_height);
        requestAnimationFrame(drawCanvas3);
      }
      video3.addEventListener('play', drawCanvas3);
    
    
    
    </script>
  </body>
</html>

